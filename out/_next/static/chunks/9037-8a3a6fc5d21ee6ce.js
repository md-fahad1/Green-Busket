"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9037],{45674:function(e,t,r){r.d(t,{default:function(){return v}});var n=r(57437);r(2265);var i=r(11444),a=r(46804),o=r(81904),s=r(16182),l=r(84894),c=r(5574),d=r(81046),u=r(39605);let m=(0,a.UY)({user:l.ZP,cart:s.ZP,product:u.ZP}),p={key:"root",storage:d.Z,version:1},h=(0,c.OJ)(p,m),f=(0,o.xC)({reducer:h,middleware:e=>e({serializableCheck:{ignoredActions:[c._P,c.I2,c.E7,c.ex,c.e,c.Nz]}})}),g=(0,c.p5)(f);var x=r(14504);function v(e){let{children:t}=e;return(0,n.jsx)(i.zt,{store:f,children:(0,n.jsx)(x.r,{loading:null,persistor:g,children:t})})}},72744:function(e,t,r){r.d(t,{Z:function(){return i}});var n=r(57437);function i(){return(0,n.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-gradient-to-br from-green-100 to-green-300 z-50",children:(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("div",{className:"h-16 w-16 border-4 border-green-500 border-t-transparent rounded-full animate-spin"}),(0,n.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,n.jsx)("span",{className:"text-green-700 font-bold",children:"Loading"})})]})})}},52298:function(e,t,r){r.d(t,{Z:function(){return N}});var n=r(57437),i=r(2265),a=r(48024),o=r(22305),s=r(71733),l=r(91326),c=r(79806),d=r(60335),u=r(74275),m=r(28196),p=r(16356),h=r(63872),f=r(35023),g=r(6291),x=r(11656),v=r(21561),y=r(69824);r(44785);var j=r(37692),k=r(11444);r(87138);var I=r(6762),b=e=>{let{anchorEl:t,menuId:r,handleProfileMenuOpen:a,setAnchorEl:o}=e,[s,l]=(0,i.useState)(null),{currentUser:c}=(0,k.v9)(e=>e.user),[u,m]=(0,i.useState)(null);(0,k.I0)();let h=()=>{l(null)},f=()=>{o(null),h()};return(0,n.jsxs)("div",{children:[(0,n.jsx)(g.Z,{anchorEl:t,anchorOrigin:{vertical:"top",horizontal:"right"},id:r,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:!!t,onClose:f,className:"[&_.MuiMenu-paper]:dark:bg-dark-bg mt-10 ",children:(0,n.jsx)(x.Z,{onClick:f,children:(0,n.jsxs)("button",{className:"flex gap-2 items-center dark:text-dark-color",onClick:()=>{(0,I.Z)()},children:[(0,n.jsx)(p.LvP,{className:"text-xl"})," ",(0,n.jsx)("span",{children:" Logout"})]})})}),(0,n.jsxs)(g.Z,{anchorEl:s,anchorOrigin:{vertical:"top",horizontal:"right"},id:"primary-search-account-menu-mobile",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:!!s,onClose:h,children:[(0,n.jsxs)(x.Z,{children:[(0,n.jsx)(d.Z,{size:"medium","aria-label":"show 4 new mails",color:"inherit",children:(0,n.jsx)(v.Z,{badgeContent:4,color:"error",children:(0,n.jsx)(j.ryQ,{className:"text-secondary"})})}),(0,n.jsx)("p",{children:"Messages"})]}),(0,n.jsxs)(x.Z,{children:[(0,n.jsx)(d.Z,{size:"medium","aria-label":"show 17 new notifications",color:"inherit",children:(0,n.jsx)(v.Z,{badgeContent:17,color:"error",children:(0,n.jsx)(y.ekN,{})})}),(0,n.jsx)("p",{children:"Notifications"})]}),(0,n.jsxs)(x.Z,{onClick:a,children:[(0,n.jsx)(d.Z,{size:"medium","aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit",children:(0,n.jsx)(p.sdR,{})}),(0,n.jsx)("p",{children:"Profile"})]})]})]})},w=r(85097),Z=()=>{let[e,t]=(0,i.useState)("dark"===localStorage.getItem("theme")),r=document.documentElement;return"dark"===localStorage.getItem("theme")?r.classList.add("dark"):r.classList.remove("dark"),(0,i.useEffect)(()=>{e?(r.classList.add("dark"),localStorage.setItem("theme","dark")):(r.classList.remove("dark"),localStorage.setItem("theme","light"))},[e]),(0,n.jsx)("div",{children:e?(0,n.jsx)(d.Z,{size:"medium","aria-label":"show 17 new notifications",onClick:()=>t(!e),className:"bg-[#F7F8F9] dark:hover:bg-secondary",children:(0,n.jsx)(j.UHR,{className:"dark:text-gray-100"})}):(0,n.jsx)(d.Z,{size:"medium","aria-label":"show 17 new notifications",onClick:()=>t(!e),className:"bg-[#F7F8F9]",children:(0,n.jsx)(w.ijp,{className:"text-secondary"})})})},S=r(66648);(0,a.ZP)("div")(e=>{let{theme:t}=e;return{position:"relative",borderRadius:t.shape.borderRadius,backgroundColor:(0,o.Fq)(t.palette.common.white,.15),"&:hover":{backgroundColor:(0,o.Fq)(t.palette.common.white,.25)},marginRight:t.spacing(2),marginLeft:0,width:"100%",[t.breakpoints.up("sm")]:{marginLeft:t.spacing(3),width:"auto"}}}),(0,a.ZP)("div")(e=>{let{theme:t}=e;return{padding:t.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"}}),(0,a.ZP)(u.ZP)(e=>{let{theme:t}=e;return{color:"inherit","& .MuiInputBase-input":{padding:t.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(t.spacing(4),")"),transition:t.transitions.create("width"),width:"100%",[t.breakpoints.up("md")]:{width:"20ch"}}}});var N=()=>{var e;let[t,r]=i.useState(null),{handleDrawerOpen:a}=i.useContext(f.R),{currentUser:o}=(0,k.v9)(e=>e.user),u=(null==o?void 0:null===(e=o.Image)||void 0===e?void 0:e.startsWith("https:/"))&&!o.Image.startsWith("https://")?o.Image.replace("https:/","https://"):null==o?void 0:o.Image,g=e=>{r(e.currentTarget)},x="primary-search-account-menu";return(0,n.jsxs)(l.Z,{sx:{flexGrow:1},position:"sticky",className:"w-full",children:[(0,n.jsx)(s.Z,{position:"static",className:"!bg-white dark:!bg-[#0f1214]",children:(0,n.jsxs)(c.Z,{children:[(0,n.jsx)(d.Z,{size:"medium",edge:"start","aria-label":"open drawer",sx:{mr:2},onClick:()=>a(!0),className:"dark:hover:bg-secondary ",children:(0,n.jsx)(m.HjU,{className:"text-secondary dark:text-dark-color "})}),(0,n.jsx)(l.Z,{sx:{flexGrow:1}}),(0,n.jsxs)(l.Z,{sx:{display:{xs:"flex"}},className:"gap-[10px] lg:gap-[20px] items-center",children:[(0,n.jsx)(Z,{}),(0,n.jsxs)(d.Z,{size:"small",edge:"end","aria-label":"account of current user","aria-controls":x,"aria-haspopup":"true",onClick:g,className:"flex gap-2 items-center",children:[u?(0,n.jsx)(S.default,{src:u,alt:"profile",width:24,height:24,className:"rounded-full object-cover"}):(0,n.jsx)(p.sdR,{className:"text-secondary dark:text-dark-color text-[20px]"}),(0,n.jsx)("span",{className:"text-secondary text-lg hidden md:block font-medium dark:text-dark-color",children:null==o?void 0:o.name}),(0,n.jsx)(h.iUH,{className:"text-secondary text-lg hidden md:block dark:text-dark-color"})]})]})]})}),(0,n.jsx)(b,{menuId:x,handleProfileMenuOpen:g,anchorEl:t,setAnchorEl:r})]})}},3707:function(e,t,r){var n=r(9489),i=r.n(n);let a=(0,r(68285).Z)({palette:{mode:"light",primary:{main:"#2FB261",contrastText:"white"}},typography:{fontFamily:i().style.fontFamily},components:{MuiAlert:{styleOverrides:{root:e=>{let{ownerState:t}=e;return{..."info"===t.severity&&{backgroundColor:"#60a5fa"}}}}}}});t.default=a},77560:function(e,t,r){r.d(t,{Z:function(){return c}});var n=r(2265),i=r(16463),a=r(44785);r(49714);var o=()=>{let e=a.Z.get("accessToken"),t=a.Z.get("userRole");if(!e||!t)return null;try{return{accessToken:e,userRole:t}}catch(e){return console.error("Invalid token",e),null}},s=r(64379),l=r.n(s);function c(){let{requiredRole:e=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,i.useRouter)(),[r,a]=(0,n.useState)(null),[s,c]=(0,n.useState)(!0);return(0,n.useEffect)(()=>{(()=>{let r=o();if(!r)return l().fire({icon:"error",title:"Access Denied!",text:"Please sign in first.",timer:3e3,showConfirmButton:!1}),t.push("/signin");let n=r.userRole;if(e&&n!==e)return l().fire({icon:"error",title:"Unauthorized",text:"You don't have permission to access this page.",timer:3e3,showConfirmButton:!1}),t.push("/");a(r),c(!1)})()},[e,t]),{user:r,loading:s}}},16182:function(e,t,r){r.d(t,{LL:function(){return c},Xq:function(){return i},dP:function(){return l},fX:function(){return a},h2:function(){return o},z3:function(){return s}});let n=(0,r(81904).oM)({name:"cart",initialState:{items:[],isCartVisible:!1},reducers:{addToCart:(e,t)=>{if(e.items.some(e=>e.productId===t.payload.productId)){let r=e.items.find(e=>e.productId===t.payload.productId),n=r.count+1,i=r.price*n,a={...r,count:n,totalPrice:i},o=e.items.filter(e=>e.productId!==t.payload.productId);return{...e,items:[...o,a]}}return{...e,items:[...e.items,t.payload]}},addToCart:(e,t)=>{if(Array.isArray(e.items)||(e.items=[]),e.items.some(e=>e.productId===t.payload.productId)){let r=e.items.find(e=>e.productId===t.payload.productId),n=r.count+1,i=r.price*n,a={...r,count:n,totalPrice:i},o=e.items.filter(e=>e.productId!==t.payload.productId);e.items=[...o,a]}else e.items.push(t.payload)},removeFromCart:(e,t)=>{let r=e.items.filter(e=>e.productId!==t.payload);return{...e,items:[...r]}},cartCountIncrement:(e,t)=>{if(e.items.some(e=>e.productId===t.payload)){let r=[...e.items],n=r.find(e=>e.productId===t.payload),i=n.count+1,a=n.price*i,o={...n,count:i,totalPrice:a},s=r.findIndex(e=>e.productId===t.payload);return r.splice(s,1,{...o}),{...e,items:[...r]}}},cartCountDecrement:(e,t)=>{if(e.items.some(e=>e.productId===t.payload)){let r=[...e.items],n=r.find(e=>e.productId===t.payload),i=n.count-1,a=n.price*i,o={...n,count:i,totalPrice:a},s=r.findIndex(e=>e.productId===t.payload);return r.splice(s,1,{...o}),{...e,items:[...r]}}},clearCart:e=>{e.items=[],e.cartCount=0},cartVisible:(e,t)=>{e.isCartVisible=t.payload}}}),{addToCart:i,cartVisible:a,removeFromCart:o,cartCountIncrement:s,cartCountDecrement:l,clearCart:c}=n.actions;t.ZP=n.reducer},39605:function(e,t,r){r.d(t,{M2:function(){return d},mb:function(){return a}});let n=(0,r(81904).oM)({name:"product",initialState:{ratingAverage:0,items:[],selectedProduct:null,reviews:[],loading:!1,error:null},reducers:{addProduct:(e,t)=>{e.items.push(t.payload)},fetchProductDetailsStart:e=>{e.loading=!0,e.error=null},fetchProductDetailsSuccess:(e,t)=>{e.selectedProduct=t.payload,e.loading=!1,e.error=null},fetchProductDetailsFailure:(e,t)=>{e.loading=!1,e.error=t.payload},addReview:(e,t)=>{e.reviews.push(t.payload)},addAverageRating:(e,t)=>{e.ratingAverage=t.payload},fetchReviewRatingSuccess:e=>{e.loading=!1}}}),{addProduct:i,fetchProductDetailsStart:a,fetchProductDetailsSuccess:o,fetchProductDetailsFailure:s,addReview:l,addAverageRating:c,fetchReviewRatingSuccess:d}=n.actions;t.ZP=n.reducer},84894:function(e,t,r){r.d(t,{AP:function(){return o},Dl:function(){return p},Uw:function(){return u},fc:function(){return a},jp:function(){return m},kv:function(){return d},lA:function(){return i}});let n=(0,r(81904).oM)({name:"user",initialState:{currentUser:null,error:null,loading:!1},reducers:{SignInStart:e=>{e.loading=!0,e.error=null},SignInSuccess:(e,t)=>{e.currentUser=t.payload,e.loading=!1,e.error=null},SignInFailure:(e,t)=>{e.loading=!1,e.error=t.payload},RegisterStart:e=>{e.loading=!0,e.error=null},RegisterSuccess:(e,t)=>{e.currentUser=t.payload,e.loading=!1,e.error=null},RegisterFailure:(e,t)=>{e.loading=!1,e.error=t.payload},UpdateProfileStart:e=>{e.loading=!0,e.error=null},UpdateProfileSuccess:(e,t)=>{e.currentUser={...e.currentUser,...t.payload},e.loading=!1,e.error=null},UpdateProfileFailure:(e,t)=>{e.loading=!1,e.error=t.payload},LogOutUser:(e,t)=>{e.currentUser=null}}}),{SignInStart:i,SignInFailure:a,SignInSuccess:o,RegisterStart:s,RegisterSuccess:l,RegisterFailure:c,UpdateProfileStart:d,UpdateProfileSuccess:u,UpdateProfileFailure:m,LogOutUser:p}=n.actions;t.ZP=n.reducer},35023:function(e,t,r){r.d(t,{R:function(){return o}});var n=r(57437),i=r(2265),a=r(91502);let o=(0,i.createContext)();t.default=e=>{let{children:t}=e,[r,s]=(0,i.useState)(!1),[l,c]=(0,i.useState)(()=>(0,a.jy)()),d={isToggleOpen:r,handleDrawerOpen:e=>{s(e)},handleRemoveWishListProduct:e=>{(0,a.I)(e),c((0,a.jy)())},wishProducts:l,setWishProducts:c,wishListItems:l.length,handleAddWishlist:e=>{let t={id:e.id,name:e.name,image:e.image,stock:e.stock,price:e.price};(0,a.uN)(t),c((0,a.jy)())}};return(0,n.jsx)(o.Provider,{value:d,children:t})}},91502:function(e,t,r){r.d(t,{I:function(){return a},jy:function(){return n},uN:function(){return i}});let n=()=>{let e;if("undefined"!=typeof localStorage){var t;e=null===(t=localStorage)||void 0===t?void 0:t.getItem("wishlist")}return e?JSON.parse(e):[]},i=e=>{let t=n();t.find(t=>t.id===e.id)||(t.push(e),localStorage.setItem("wishlist",JSON.stringify(t)))},a=e=>{let t=n();if(t.find(t=>t.id===e)){let r=t.filter(t=>t.id!==e);localStorage.removeItem("wishlist"),localStorage.setItem("wishlist",JSON.stringify(r))}}},6762:function(e,t,r){var n=r(44785);t.Z=()=>{n.Z.remove("accessToken"),n.Z.remove("refreshToken"),window.location.href="/signin"}}}]);