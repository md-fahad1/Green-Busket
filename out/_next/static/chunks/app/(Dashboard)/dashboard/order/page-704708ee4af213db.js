(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4797],{3987:function(e,t,r){Promise.resolve().then(r.bind(r,15509))},15509:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return C}});var n=r(57437),a=r(2265),s=r(38472);r(45599);var i=r(48024),l=r(48367),o=r(58292),d=r(87116),c=r(91326),h=r(92674),u=r(28027),x=r(86645),m=r(74691),p=r(68884),g=r(94893),b=r(11656),j=r(75519);let v=(0,i.ZP)(l.Z)(e=>{let{theme:t}=e;return{["&.".concat(o.Z.head)]:{color:t.palette.common.white},["&.".concat(o.Z.body)]:{fontSize:14}}}),f=(0,i.ZP)(d.Z)(e=>{let{theme:t}=e;return{"&:nth-of-type(odd)":{backgroundColor:t.palette.action.hover}}});var w=e=>{let{productsData:t}=e,[r,i]=(0,a.useState)(t),l=async(e,t)=>{try{let r=await s.Z.put("".concat("https://testingbackend.ceramicandfoodproducts.com","/order/changeStatus/").concat(e),{status:t});console.log("✅ Server response:",r.data),i(r=>r.map(r=>r.Id===e?{...r,status:t}:r))}catch(e){var r;console.error("❌ Error updating order status:",(null===(r=e.response)||void 0===r?void 0:r.data)||e.message)}},o=(e,t)=>{l(e,t)},w=e=>{l(e,"Deny")};return(0,n.jsx)(c.Z,{sx:{overflowY:"auto"},children:(0,n.jsx)(h.Z,{sx:{width:"100%",overflow:"auto"},component:u.Z,className:"!rounded-none",children:(0,n.jsxs)(x.Z,{"aria-label":"simple table",children:[(0,n.jsx)(m.Z,{className:"bg-dash-primary",children:(0,n.jsxs)(d.Z,{children:[(0,n.jsx)(v,{align:"center",className:"font-semibold text-xl border-r border-white",children:"Order ID"}),(0,n.jsx)(v,{align:"center",className:"font-semibold text-xl border-r border-white",children:"Customer Name"}),(0,n.jsx)(v,{align:"center",className:"font-semibold text-xl border-r border-white",children:"Phone"}),(0,n.jsx)(v,{align:"center",className:"font-semibold text-xl border-r border-white",children:"Product Name"}),(0,n.jsx)(v,{align:"center",className:"font-semibold text-xl border-r border-white",children:"Price"}),(0,n.jsx)(v,{align:"center",className:"font-semibold text-xl",children:"Date"}),(0,n.jsx)(v,{align:"center",className:"font-semibold text-xl",children:"Status"}),(0,n.jsx)(v,{align:"center",className:"font-semibold text-xl",children:"Actions"})]})}),(0,n.jsx)(p.Z,{children:r.map(e=>{var t,r,a;return(0,n.jsxs)(f,{children:[(0,n.jsx)(v,{component:"th",scope:"row",className:"border-r border-r-gray-200",children:(0,n.jsxs)("span",{className:"font-medium text-dash-primary",children:["#00",e.Id]})}),(0,n.jsx)(v,{align:"center",className:"border-r border-r-gray-200",children:null==e?void 0:null===(t=e.user)||void 0===t?void 0:t.name}),(0,n.jsx)(v,{align:"center",className:"border-r border-r-gray-200",children:null==e?void 0:null===(r=e.user)||void 0===r?void 0:r.phone}),(0,n.jsx)(v,{align:"center",className:"border-r border-r-gray-200",children:null==e?void 0:null===(a=e.products)||void 0===a?void 0:a.map((t,r)=>(0,n.jsxs)("span",{children:[t.name,r<e.products.length-1&&", "]},r))}),(0,n.jsx)(v,{align:"center",children:(0,n.jsxs)("span",{children:["$",(Number(null==e?void 0:e.totalAmount)||0).toFixed(2)]})}),(0,n.jsx)(v,{align:"center",children:new Date(null==e?void 0:e.date).toLocaleDateString()}),(0,n.jsx)(v,{align:"center",children:e.status||"Pending"}),(0,n.jsxs)(v,{align:"center",children:[(0,n.jsxs)(g.Z,{value:e.status,label:"Status",onChange:t=>o(e.Id,t.target.value),sx:{mt:2,width:100,height:30,fontSize:"0.75rem"},children:[(0,n.jsx)(b.Z,{value:"Pending",children:"Pending"}),(0,n.jsx)(b.Z,{value:"Delivered",children:"Delivered"}),(0,n.jsx)(b.Z,{value:"Completed",children:"Completed"})]}),(0,n.jsx)(j.Z,{variant:"contained",color:"secondary",onClick:()=>w(e.Id),sx:{mt:2,width:100,height:30,fontSize:"0.75rem"},children:"Delete"})]})]},e.Id)})})]})})})},N=r(22305),Z=r(74275);(0,i.ZP)("div")(e=>{let{theme:t}=e;return{position:"relative",borderRadius:t.shape.borderRadius,backgroundColor:(0,N.Fq)(t.palette.common.white,.15),"&:hover":{backgroundColor:(0,N.Fq)(t.palette.common.white,.25)},marginRight:t.spacing(2),marginLeft:0,width:"100%",[t.breakpoints.up("sm")]:{marginLeft:t.spacing(3),width:"auto"}}}),(0,i.ZP)("div")(e=>{let{theme:t}=e;return{padding:t.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"}}),(0,i.ZP)(Z.ZP)(e=>{let{theme:t}=e;return{color:"inherit","& .MuiInputBase-input":{padding:t.spacing(.5,1,.5,0),paddingLeft:"calc(1em + ".concat(t.spacing(4),")"),transition:t.transitions.create("width"),width:"100%",[t.breakpoints.up("md")]:{width:"20ch"}}}});var y=r(40468),S=r(88929),k=r(47245),C=()=>{let[e,t]=(0,a.useState)(0),[r,i]=(0,a.useState)([]),[l,o]=(0,a.useState)(5),[d,c]=(0,a.useState)(1),[h,u]=(0,a.useState)(!0),[x,m]=(0,a.useState)(null);return((0,a.useEffect)(()=>{(async()=>{try{let e=(await s.Z.get("".concat("https://testingbackend.ceramicandfoodproducts.com","/Order/search"))).data;t(e.length);let r=e.slice((d-1)*l,d*l);i(r)}catch(e){console.error("Error fetching data:",e),m("An error occurred while fetching the data.")}finally{u(!1)}})()},[d]),h)?(0,n.jsxs)("div",{className:"flex justify-center items-center h-screen",children:[(0,n.jsx)(y.Z,{})," "]}):x?(0,n.jsx)("div",{className:"text-center text-red-500",children:x}):(0,n.jsx)("div",{children:(0,n.jsx)("div",{className:"overflow-auto w-[95%] mx-auto mt-6 border rounded-md h-full shadow-[0_0px_5px_0px_rgba(0,0,0,0.3)]",children:(0,n.jsxs)("div",{className:"bg-white min-w-[600px]",children:[(0,n.jsx)(w,{productsData:r}),(0,n.jsx)("div",{className:"flex justify-end py-3 me-6",children:(0,n.jsx)(S.Z,{spacing:2,children:(0,n.jsx)(k.Z,{page:d,onChange:(e,t)=>{c(t)},count:Math.ceil(e/l),shape:"rounded",color:"primary"})})})]})})})}},45599:function(e,t,r){"use strict";var n=r(57437),a=r(75519);t.Z=e=>{let{title:t,href:r,btnName:s}=e;return(0,n.jsxs)("div",{className:"flex justify-between items-center px-6 ",children:[(0,n.jsx)("h3",{className:"text-xl font-bold text-secondary",children:t}),(0,n.jsx)(a.Z,{variant:"contained",style:{backgroundColor:"#2FB261"},href:r,className:" text-white",children:s})]})}}},function(e){e.O(0,[4047,8472,9537,2501,4312,6291,4893,6537,8929,4106,4450,2971,7023,1744],function(){return e(e.s=3987)}),_N_E=e.O()}]);