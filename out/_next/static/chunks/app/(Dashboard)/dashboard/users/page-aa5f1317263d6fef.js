(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8113],{50815:function(e,t,r){Promise.resolve().then(r.bind(r,90124))},90124:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return y}});var n=r(57437);r(8522);var l=r(45599),s=r(88929),a=r(47245),c=r(38472),i=r(2265);r(60025);var o=r(48024),d=r(48367),h=r(58292),x=r(87116),u=r(91326),m=r(92674),f=r(28027),j=r(86645),b=r(74691),g=r(68884),p=r(75519),w=r(66648);let Z=(0,o.ZP)(d.Z)(e=>{let{theme:t}=e;return{["&.".concat(h.Z.head)]:{color:t.palette.common.white},["&.".concat(h.Z.body)]:{fontSize:14}}}),N=(0,o.ZP)(x.Z)(e=>{let{theme:t}=e;return{"&:nth-of-type(odd)":{backgroundColor:t.palette.action.hover}}});var v=e=>{let{usersData:t,setUsersData:r}=e,l=async e=>{try{await c.Z.delete("".concat("https://testingbackend.ceramicandfoodproducts.com","/User/forceFullyDelete/").concat(e)),r(t=>t.filter(t=>t.Id!==e))}catch(e){console.error("Error deleting user:",e)}};return(0,n.jsx)(u.Z,{sx:{overflowY:"auto"},children:(0,n.jsx)(m.Z,{component:f.Z,sx:{width:"100%",overflow:"auto"},children:(0,n.jsxs)(j.Z,{"aria-label":"simple table",children:[(0,n.jsx)(b.Z,{className:"bg-dash-primary",children:(0,n.jsxs)(x.Z,{children:[(0,n.jsx)(Z,{align:"center",className:"font-semibold text-xl border-r border-white",children:"Image"}),(0,n.jsx)(Z,{align:"center",className:"font-semibold text-xl border-r border-white",children:"Name"}),(0,n.jsx)(Z,{align:"center",className:"font-semibold text-xl border-r border-white",children:"Email"}),(0,n.jsx)(Z,{align:"center",className:"font-semibold text-xl border-r border-white",children:"Phone"}),(0,n.jsx)(Z,{align:"center",className:"font-semibold text-xl border-r border-white",children:"Address"}),(0,n.jsx)(Z,{align:"center",className:"font-semibold text-xl border-r border-white",children:"Action"})]})}),(0,n.jsx)(g.Z,{children:null==t?void 0:t.map(e=>(0,n.jsxs)(N,{children:[(0,n.jsx)(Z,{align:"center",children:(0,n.jsx)(w.default,{src:e.Image,alt:e.name,width:50,height:50,className:"rounded-full object-cover"})}),(0,n.jsx)(Z,{align:"center",children:e.name}),(0,n.jsx)(Z,{align:"center",children:e.email}),(0,n.jsx)(Z,{align:"center",children:e.phone}),(0,n.jsx)(Z,{align:"center",children:e.address}),(0,n.jsx)(Z,{align:"center",children:(0,n.jsx)(p.Z,{onClick:()=>l(e.Id),color:"error",children:"Delete"})})]},e.Id))})]})})})},y=()=>{let[e,t]=(0,i.useState)(0),[r,o]=(0,i.useState)([]),[d,h]=(0,i.useState)(5),[x,u]=(0,i.useState)(1),[m,f]=(0,i.useState)(!0),[j,b]=(0,i.useState)(null);return(0,i.useEffect)(()=>{(async()=>{f(!0);try{let e=await c.Z.get("".concat("https://testingbackend.ceramicandfoodproducts.com","/user/search"));if(200===e.status){let r=e.data;t(r.length);let n=(x-1)*d,l=r.slice(n,n+d);o(l)}}catch(e){b("Failed to fetch data")}finally{f(!1)}})()},[x]),(0,n.jsxs)("div",{children:[(0,n.jsx)(l.Z,{title:"All Users"}),(0,n.jsx)("div",{className:"overflow-auto w-[95%] mx-auto mt-6 border rounded-md h-full shadow-[0_0px_5px_0px_rgba(0,0,0,0.3)]",children:(0,n.jsx)("div",{className:"bg-white min-w-[600px]",children:m?(0,n.jsx)("p",{className:"text-center py-4",children:"Loading..."}):j?(0,n.jsx)("p",{className:"text-center py-4 text-red-500",children:j}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(v,{usersData:r}),(0,n.jsx)("div",{className:"flex justify-end py-3 me-6",children:(0,n.jsx)(s.Z,{spacing:2,children:(0,n.jsx)(a.Z,{page:x,onChange:(e,t)=>{u(t)},count:Math.ceil(e/d),shape:"rounded",color:"primary"})})})]})})})]})}},60025:function(e,t,r){"use strict";r(57437),r(2265),r(5833)}},function(e){e.O(0,[4047,8472,9537,8173,4312,7138,6537,8929,4106,6215,2971,7023,1744],function(){return e(e.s=50815)}),_N_E=e.O()}]);