(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1722],{8826:function(e,a,t){Promise.resolve().then(t.bind(t,25323))},25323:function(e,a,t){"use strict";t.r(a);var s=t(57437),l=t(64818),n=t(91326),i=t(66858),d=t(75519),o=t(38472),r=t(2265),m=t(72247),c=t(54952),u=t(70134),x=t(73322),p=t(19212),h=t.n(p);a.default=()=>{let[e,a]=(0,r.useState)(""),[t,p]=(0,r.useState)(!0),[v,f]=(0,r.useState)(h()()),[j,b]=(0,r.useState)(h()()),[D,N]=(0,r.useState)(h()().add(5,"days")),[C,g]=(0,r.useState)(h()().set("hour",23).set("minute",59)),[S,T]=(0,r.useState)({name:"",code:"",validFromDateTime:"",validUntilDateTime:""}),[F,w]=(0,r.useState)({name:"",code:"",validFromDateTime:"",validUntilDateTime:""});(0,r.useEffect)(()=>{let e={...S};if(v&&j){let a=h()(v).hour(h()(j).hour()).minute(h()(j).minute()).second(0).toISOString();e={...e,validFromDateTime:a}}if(D&&C){let a=h()(D).hour(h()(C).hour()).minute(h()(C).minute()).second(0).toISOString();e={...e,validUntilDateTime:a},w({...F,validUntilDateTime:""})}T(e)},[v,j,D,C]);let U=e=>{T({...S,[e.target.name]:e.target.value}),w({...F,[e.target.name]:"",validUntilDateTime:"",validFromDateTime:""})},E=async e=>{e.preventDefault();let t={...F},s=!0;""===S.name.trim()&&(t.name="Coupon name is required",s=!1),""===S.code.trim()&&(t.code="Coupon Code is required",s=!1),S.validFromDateTime>S.validUntilDateTime&&(t.validUntilDateTime="Invalid Date",s=!1);let l=new FormData;if(l.append("name",S.name),l.append("code",S.code.toUpperCase()),l.append("validFromDateTime",S.validFromDateTime),l.append("validUntilDateTime",S.validUntilDateTime),s)try{let e=await o.Z.post("".concat("https://testingbackend.ceramicandfoodproducts.com","/Coupon/addCoupon"),l,{headers:{"Content-Type":"multipart/form-data"}});201===e.status&&(a("Coupon Created Successfully"),p(!1),T({name:"",code:"",validFromDateTime:"",validUntilDateTime:""}))}catch(e){console.log(e),a("Something Problem to Post Data"),p(!1)}else w(t)};return(0,s.jsxs)("div",{className:"w-[95%] md:w-full mx-auto ",children:[!t&&(0,s.jsx)(l.Z,{className:"mb-3",severity:e.includes("Successfully")?"success":"error",onClose:()=>{p(!0)},children:e}),(0,s.jsx)("h2",{className:"text-xl font-bold text-secondary dark:text-white",children:"Add Coupon"}),(0,s.jsx)("div",{className:"text-secondary mt-6 border rounded-md h-full px-4 bg-white py-6 lg:w-full shadow-[0_0px_5px_0px_rgba(0,0,0,0.3)]",children:(0,s.jsxs)(n.Z,{component:"form",noValidate:!0,autoComplete:"off",className:"space-y-4",onSubmit:E,children:[(0,s.jsxs)("div",{className:"flex flex-col md:flex-row items-center gap-4",children:[(0,s.jsxs)("div",{className:"w-full",children:[(0,s.jsxs)("label",{className:"mb-1 ",children:["Coupon Name",(0,s.jsx)("span",{className:"text-red-500 select-none",children:" *"})]}),(0,s.jsx)(i.Z,{fullWidth:!0,size:"small",value:S.name,name:"name",onChange:U,placeholder:"Enter Coupon Name",required:!0}),F.name&&(0,s.jsx)("span",{className:"text-red-500",children:F.name})]}),(0,s.jsxs)("div",{className:"w-full",children:[(0,s.jsxs)("label",{className:"mb-1 ",children:["Coupon Code",(0,s.jsx)("span",{className:"text-red-500 select-none",children:" *"})]}),(0,s.jsx)(i.Z,{fullWidth:!0,size:"small",value:S.code.toUpperCase(),name:"code",onChange:U,required:!0,placeholder:"Enter Coupon Code"}),F.code&&(0,s.jsx)("span",{className:"text-red-500",children:F.code})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"w-full",children:[(0,s.jsxs)("label",{className:"block",children:["Valid From",(0,s.jsx)("span",{className:"text-red-500 select-none",children:" *"})]}),(0,s.jsxs)(c._,{dateAdapter:m.Q,children:[(0,s.jsx)(u.M,{value:h()(v),onChange:e=>f(e),slotProps:{textField:{size:"small"}},sx:{"& .MuiInputBase-root":{borderStartEndRadius:{lg:"0"},borderEndEndRadius:{lg:"0"}}},format:"DD/MM/YYYY"}),(0,s.jsx)(x.j,{value:h()(j),onChange:e=>b(e),slotProps:{textField:{size:"small"}},sx:{"& .MuiInputBase-root":{borderStartStartRadius:"0",borderEndStartRadius:"0"}}})]}),F.validFromDateTime&&(0,s.jsx)("span",{className:"text-red-500",children:F.validFromDateTime})]}),(0,s.jsxs)("div",{className:"w-full relative",children:[(0,s.jsxs)("label",{className:"block",children:["Valid Until",(0,s.jsx)("span",{className:"text-red-500 select-none",children:" *"})]}),(0,s.jsxs)(c._,{dateAdapter:m.Q,children:[(0,s.jsx)(u.M,{value:h()(D),onChange:e=>N(e),slotProps:{textField:{size:"small"}},sx:{"& .MuiInputBase-root":{borderStartEndRadius:{lg:"0"},borderEndEndRadius:{lg:"0"}}},format:"DD/MM/YYYY"}),(0,s.jsx)(x.j,{value:h()(C),onChange:e=>g(e),slotProps:{textField:{size:"small"}},sx:{"& .MuiInputBase-root":{borderStartStartRadius:"0",borderEndStartRadius:"0"}}})]}),(0,s.jsx)("div",{className:"absolute -bottom-6 left-0",children:F.validUntilDateTime&&(0,s.jsx)("span",{className:"text-red-500",children:F.validUntilDateTime})})]})]}),(0,s.jsx)(d.Z,{variant:"contained",style:{backgroundColor:"#2FB261"},type:"submit",className:" text-white",children:"Add Coupon"})]})})]})}}},function(e){e.O(0,[6990,4047,8472,9537,2501,4312,6291,4893,6858,6931,6503,8258,2971,7023,1744],function(){return e(e.s=8826)}),_N_E=e.O()}]);