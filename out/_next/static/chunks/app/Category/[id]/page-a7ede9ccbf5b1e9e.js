(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4167],{98935:function(e,t,r){Promise.resolve().then(r.bind(r,27024)),Promise.resolve().then(r.bind(r,8624)),Promise.resolve().then(r.bind(r,52033))},27024:function(e,t,r){"use strict";var a=r(57437),s=r(2265),c=r(87138),o=r(66648),i=r(38472),l=r(64379),n=r.n(l),d=r(16182),m=r(28910);t.default=e=>{let{params:t}=e,{id:r}=t,l=(0,m.TL)(),[h,u]=(0,s.useState)([]),[x,f]=(0,s.useState)([]),[p,g]=(0,s.useState)(!0),[b,y]=(0,s.useState)([]),[j,w]=(0,s.useState)([Number(r)]),[N,v]=(0,s.useState)("");(0,s.useEffect)(()=>{r&&(async()=>{try{let e=await i.Z.get("".concat("https://testingbackend.ceramicandfoodproducts.com","/Product/search/category/").concat(r)),t=Array.isArray(e.data)?e.data:[];u(t),f(t),w([Number(r)])}catch(e){console.error("Error fetching products:",e),u([]),f([])}finally{g(!1)}})()},[r]),(0,s.useEffect)(()=>{(async()=>{try{let e=await fetch("".concat("https://testingbackend.ceramicandfoodproducts.com","/Category/search")),t=await e.json();y(Array.isArray(t)?t:[])}catch(e){console.error("Error fetching categories:",e),y([])}})()},[]),(0,s.useEffect)(()=>{N&&Array.isArray(x)&&f([...x].sort((e,t)=>"lowToHigh"===N?e.price-t.price:t.price-e.price))},[N]);let k=async(e,t)=>{let r=t?[...j,e]:j.filter(t=>t!==e);if(w(r),g(!0),0===r.length){f([]),g(!1);return}try{let e=(await Promise.all(r.map(async e=>{let t=await fetch("".concat("https://testingbackend.ceramicandfoodproducts.com","/Product/search/category/").concat(e)),r=await t.text(),a=r?JSON.parse(r):[];return Array.isArray(a)?a:[]}))).flat();f(e)}catch(e){console.error("Error fetching category products:",e),f([])}finally{g(!1)}},A=e=>{var t;if(!e||!e.name)return;let r=(null===(t=e.json_attribute)||void 0===t?void 0:t.attributes)||{},a={};Object.entries(r).forEach(e=>{let[t,r]=e,s=Object.entries(r).find(e=>{let[t,r]=e;return r>0});s&&(a[t]={[s[0]]:s[1]})});let s={name:e.name,image:e.image,productId:e.Id,price:e.price,count:1,attributes:a};l((0,d.Xq)(s)),n().fire({icon:"success",title:"Added to cart",text:"".concat(e.name," has been added to your cart!"),timer:1500,showConfirmButton:!1})};return(0,a.jsx)("section",{children:(0,a.jsxs)("div",{className:"container mx-auto p-4 md:p-8 flex flex-col md:flex-row gap-8",children:[(0,a.jsxs)("aside",{className:"w-full md:w-64 p-4 bg-gray-100 border rounded-md shadow-md h-auto md:h-screen overflow-auto",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Sort by"}),(0,a.jsx)("div",{className:"mb-6 space-y-2",children:["lowToHigh","highToLow"].map(e=>(0,a.jsxs)("label",{className:"block text-sm",children:[(0,a.jsx)("input",{type:"radio",name:"sort",value:e,checked:N===e,onChange:()=>v(e),className:"mr-2"}),"lowToHigh"===e?"Price - Low to High":"Price - High to Low"]},e))}),(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Categories"}),(0,a.jsx)("div",{className:"space-y-2",children:b.map(e=>{let{Id:t,name:r}=e;return(0,a.jsxs)("label",{className:"block text-sm",children:[(0,a.jsx)("input",{type:"checkbox",value:t,checked:j.includes(t),onChange:e=>k(t,e.target.checked),className:"mr-2"}),r]},t)})})]}),(0,a.jsxs)("main",{className:"flex-1 p-6",children:[(0,a.jsxs)("h3",{className:"text-xl font-semibold mb-4 text-center",children:["Search Results:"," ",Array.isArray(x)?x.length:0," ",1===x.length?"product":"products"]}),p?(0,a.jsx)("p",{className:"text-center text-gray-600",children:"Loading products..."}):Array.isArray(x)&&0===x.length?(0,a.jsx)("p",{className:"text-center text-gray-600",children:"No products found."}):(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:x.map((e,t)=>{var r;return(0,a.jsxs)("div",{className:"relative border bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 overflow-hidden flex flex-col justify-between",children:[e.offer&&(0,a.jsxs)("div",{className:"absolute top-0 left-0 bg-red-500 text-white text-xs font-bold py-1 px-2 rounded-br-md",children:[e.offer,"% OFF"]}),(0,a.jsx)("div",{className:"p-4 flex justify-center items-center bg-gray-100",children:(0,a.jsx)(o.default,{src:(null===(r=e.image[0])||void 0===r?void 0:r.startsWith("http"))?e.image[0]:"https://farseit.com/Upload/ProductImage/".concat(e.image[0].split("/").pop()),width:250,height:250,className:"w-auto h-48 object-cover group-hover:scale-105 transition-transform duration-300",alt:e.name,loading:0===t?"eager":"lazy",priority:0===t})}),(0,a.jsxs)("div",{className:"p-4 text-center",children:[(0,a.jsx)("h2",{className:"leading-tight text-center capitalize truncate text-normal font-roboto font-medium",children:e.name}),(0,a.jsx)("div",{className:"flex justify-between items-center",children:(0,a.jsx)("div",{className:"flex flex-col",children:(0,a.jsxs)("p",{className:"flex justify-center gap-1 text-xs font-lato md:text-base",children:[(0,a.jsx)("span",{className:"mr-0.5",children:"à§³"}),new Intl.NumberFormat().format(e.price)]})})}),(0,a.jsxs)("div",{className:"flex justify-center gap-2 w-full",children:[(0,a.jsx)("button",{onClick:()=>A(e),className:"flex-1 w-full max-w-[200px] rounded-md border border-dash-primary text-[10px] capitalize text-[#192a56] font-semibold text-center py-1 md:px-1.5 md:text-[11px] transition-all duration-300 hover:bg-dash-primary hover:text-white",children:"Add to Cart"}),(0,a.jsx)(c.default,{href:"/checkout?productId=".concat(e.Id),className:"flex-1 w-full max-w-[200px] rounded-md bg-dash-primary text-[10px] capitalize text-white text-center font-semibold py-1 md:px-1.5 md:text-[11px] transition-all duration-300 hover:bg-[#0056b3]",onClick:()=>A(e),children:"Buy Now"})]})]})]},t)})})]})]})})}}},function(e){e.O(0,[9461,7699,6051,6305,9212,3676,2376,4047,8472,9537,8173,2501,4312,1444,1904,7138,6291,4893,4455,6920,6794,9659,2971,7023,1744],function(){return e(e.s=98935)}),_N_E=e.O()}]);